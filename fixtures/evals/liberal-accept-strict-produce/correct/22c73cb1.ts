// Accepts an array of items and a filter function, returns a filtered array or an empty array if input is invalid
function safeFilter<T>(
  items: T[] | null | undefined,
  filterFn: (item: T) => boolean
): T[] {
  if (!Array.isArray(items)) {
    // Handles null, undefined, or non-array inputs gracefully
    return []
  }
  // Always produces a valid array output, filtered by the provided function
  return items.filter(filterFn)
}

// Generated by gpt-4-0125-preview

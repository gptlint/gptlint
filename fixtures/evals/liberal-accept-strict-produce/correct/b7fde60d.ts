// Parses an environment variable to get a port number, defaults to 3000 if not set or invalid
function getServerPort(envVar: string | undefined): number {
  const port = parseInt(envVar || '', 10)
  // Accepts undefined input, produces a valid number
  if (!isNaN(port)) {
    return port
  }
  return 3000 // Default port
}

// Generated by gpt-4-0125-preview
